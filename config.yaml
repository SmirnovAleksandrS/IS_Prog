# App language: all terminal UI messages are in Russian.
app:
  run_name: "avr_password_bypass_baseline"
  seed: 42
  artifacts_dir: "./runs/avr_password_bypass_baseline"

serial:
  port: "COM10"     # change to your actual port
  baudrate: 115200
  timeout_s: 0.5

protocol:
  sof_hex: "0x7E"
  use_len1_byte: true       # as per spec: 1-byte LEN for now
  crc32_poly: "0xEDB88320"  # just for reference; Python will use binascii.crc32

campaign:
  max_trials: 2000
  reset_policy: "soft"      # soft | hard | none
  safety_pause_ms: 10       # pause between trials to avoid overheating
  trigger:
    kind: "GPIO_LEVEL"      # implemented base trigger
    edge: "rising"          # rising|falling
    timeout_ms: 200         # fail trial if no trigger
  attack:
    mode: "CLOCK_GLITCH"    # available now: CLOCK_GLITCH
    clock_impl: "COMPRESS"  # implemented; choices: COMPRESS | EXTRA_EDGE (stub) | HF_MUX (stub) | PHASE_SWAP (stub)
    concurrent_power: false # if true (stub) try to also fire power glitch
  strategy:
    name: "grid"            # "grid" (implemented) | "random" (implemented) | "bayes" (stub) | "bandit" (stub)
    params:
      tg_ns: [120, 100, 80, 64, 59, 50, 46, 40, 32, 28, 24, 20, 18, 16, 15]
      delay_ns: {start: 0, stop: 5000, step: 50}
      repeats_per_point: 3  # for stability; orchestrator will schedule repeats

storage:
  jsonl_path: "./runs/avr_password_bypass_baseline/events.jsonl"
  sqlite_path: "./runs/avr_password_bypass_baseline/results.sqlite"  # optional export

viz:
  live: false
  make_heatmap: true
  heatmap_metric: "success_rate" # success_rate | hang_rate | no_effect_rate
  output_dir: "./runs/avr_password_bypass_baseline/viz"

advanced:                       # placeholders for future extensions (safe to ignore now)
  power_glitch: {enabled: false, type: "DOWN", dV_mV: 250, width_ns: 60, delay_ns: 100}
  whitebox: {enabled: false, avr_listing_path: null}
  bayes: {enabled: false}
  bandit: {enabled: false}
